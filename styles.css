body {
    font-family: 'Inter', sans-serif;
    transition: background 1s ease-in-out, color 1s ease-in-out;
}

/* --- Night Mode --- */
.night-mode {
    background: linear-gradient(-45deg, #111827, #1e293b, #334155, #0f172a);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    color: #e2e8f0; /* slate-200 */
}
.night-mode .glass-card {
    background: rgba(30, 41, 59, 0.5);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}
.night-mode .text-dynamic-primary { color: #ffffff; }
.night-mode .text-dynamic-secondary { color: #cbd5e1; } /* slate-300 */
.night-mode .text-dynamic-accent { color: #67e8f9; } /* cyan-300 */
.night-mode .search-bar {
    background: rgba(31, 41, 55, 0.8); /* slate-800/80 */
    border-color: #475569; /* slate-600 */
}
.night-mode .search-bar:focus { border-color: #22d3ee; } /* cyan-400 */
.night-mode .divider { border-color: #475569; } /* slate-600 */
.night-mode .theme-icon, .night-mode .location-btn { color: #f59e0b; }
.night-mode .favorite-btn.active { color: #f59e0b; }
.night-mode .favorite-btn { color: #94a3b8; }
.night-mode .favorite-city { background-color: rgba(71, 85, 105, 0.5); }
.night-mode .favorite-city:hover { background-color: rgba(71, 85, 105, 0.8); }

/* --- Day Mode --- */
.day-mode {
    background: linear-gradient(-45deg, #87CEEB, #a8d5e2, #F0E68C, #87CEFA);
    background-size: 400% 400%;
    animation: gradientBG 20s ease infinite;
    color: #1e293b; /* slate-800 */
}
.day-mode .glass-card {
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}
.day-mode .text-dynamic-primary { color: #1e293b; } /* slate-800 */
.day-mode .text-dynamic-secondary { color: #475569; } /* slate-600 */
.day-mode .text-dynamic-accent { color: #0891b2; } /* cyan-600 */
.day-mode .search-bar {
    background: rgba(255, 255, 255, 0.7);
    border-color: #94a3b8; /* slate-400 */
    color: #1e293b;
}
.day-mode .search-bar::placeholder { color: #475569; }
.day-mode .search-bar:focus { border-color: #0891b2; } /* cyan-600 */
.day-mode .divider { border-color: #cbd5e1; } /* slate-300 */
.day-mode .theme-icon, .day-mode .location-btn { color: #f59e0b; }
.day-mode .favorite-btn.active { color: #f59e0b; }
.day-mode .favorite-btn { color: #64748b; }
.day-mode .favorite-city { background-color: rgba(255, 255, 255, 0.4); }
.day-mode .favorite-city:hover { background-color: rgba(255, 255, 255, 0.7); }

@keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

.fade-in { animation: fadeIn 0.8s ease-out forwards; }
.pop-in { animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards; }

#currentIcon { animation: float 3s ease-in-out infinite; }
@keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }

.rain::before {
    content: "";
    position: fixed;
    width: 100%;
    height: 100%;
    background: url('https://i.imgur.com/NM8ZKQv.png');
    animation: rain 0.5s linear infinite;
    opacity: 0.4;
    pointer-events: none;
    will-change: transform;
}

@keyframes rain {
    from { background-position: 0 0; }
    to { background-position: 0 100px; }
}

@media (max-width: 640px) {
    #appContainer { padding: 1rem; }
}

#suggestions {
    background: white;
    color: #111827; /* dark gray */
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

#suggestions div {
    padding: 12px;
    font-weight: 500;
    color: #111827;
    cursor: pointer;
}

#suggestions div:hover {
    background: #e5e7eb;
}

.night-mode #suggestions {
    background: #1f2937;
    color: #f9fafb;
}

.night-mode #suggestions div:hover {
    background: #374151;
}

.bg-clear { background: linear-gradient(#60a5fa,#93c5fd); }
.bg-rain { background: linear-gradient(#1f2937,#111827); }
.bg-cloud { background: linear-gradient(#9ca3af,#d1d5db); }

.active-suggestion {
    background: #38bdf8;
    color: white;
}
